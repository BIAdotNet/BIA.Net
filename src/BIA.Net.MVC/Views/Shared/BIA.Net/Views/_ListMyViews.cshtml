@model BIA.Net.MVC.ViewModel.View.ViewPopupVM

<ul class="nav-ul">
    @foreach (var vw in Model.Views.Where(x => !x.IsReference || x.Id == 0 || (x.IsReference && x.SiteAssignedId.Any())))
    {
        var isCurrent = (Model.CurrentView != null && vw.Id == Model.CurrentView.Id);
        var vwClass = isCurrent ? "currentvw" : string.Empty;
        var vwName = isCurrent ? $"{vw.Name} ({TextResources.Current})" : vw.Name;
        vwName = (vw.IsReference && vw.Id != 0) ? $"{vwName} (Site view)" : vwName;
        <li class="@vwClass">
            <a class="vwButton pb-1" style="cursor:pointer;" onclick="BIA.Net.View.ApplyView('@(Model.TableId.ToString())','@(vw.Id.ToString())')" target="_self" data-toggle="tooltip" data-placement="right" title="@vw.Description">@vwName</a>
            @if (vw.IsDefaultView)
            {
                <a class="default-button-active fas fa-eye mt-2 pl-1" style="color:blue !important"></a>
            }
        </li>
    }
</ul>

<script>
    $(document).ready(function () {
        BIA.Net.View.Manage.InitListMyView('@Model.TableId')
    });
</script>
